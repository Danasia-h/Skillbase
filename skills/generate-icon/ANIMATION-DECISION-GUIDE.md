# 动画图标智能决策指南

Agent 在生成图标时，会根据以下规则智能决策是否添加动画效果。

## 🎯 核心原则

**默认策略**：生成静态图标
**例外情况**：仅在明确需要时添加动画

## ✅ 必须使用动画的场景

这些图标**必然表示动态过程**，不加动画会让用户困惑：

| 图标功能 | 动画类型 | 理由 |
|---------|---------|------|
| loading | 旋转 (rotate) | 表示正在加载，需要视觉反馈 |
| syncing | 循环箭头旋转 | 表示同步进行中 |
| processing | 旋转或进度 | 表示处理中，避免用户焦虑 |
| uploading | 箭头向上 + 进度 | 明确表示上传状态 |
| recording | 脉动红点 | 表示正在录制 |
| live | 闪烁 | 表示实时直播状态 |
| broadcasting | 波浪扩散 | 表示广播/传播状态 |
| refresh | 旋转箭头 | 视觉化刷新动作 |

**判断标准**：图标功能本身就是"进行中"的动作

## ⚡ 建议使用动画的场景

这些图标加动画能**显著改善用户体验**：

| 图标功能 | 动画类型 | 理由 |
|---------|---------|------|
| notification | 波浪扩散 + 摇晃 | 吸引注意力，提醒用户 |
| alert / warning | 脉动或闪烁 | 警示效果，不易忽略 |
| like (激活) | 心跳 | 交互反馈，增强趣味性 |
| success | 勾选展开 | 成功反馈，积极情绪 |
| new badge | 闪烁 | 新内容标识，吸引点击 |
| highlight | 脉动 | 重点强调 |

**判断标准**：需要"吸引注意力"或"交互反馈"

## 🎨 可选动画的场景

这些情况下**可以考虑**添加动画（但不是必需）：

- 用户明确要求"有动画"、"动态"、"生动"
- 装饰性图标（非核心功能）
- Hover 状态动画（鼠标悬停时触发）
- 品牌/营销场景（强调趣味性）

## ❌ 不应该使用动画的场景

这些图标**必须保持静态**：

| 分类 | 图标示例 | 理由 |
|------|---------|------|
| 导航图标 | menu, home, back, forward, close | 常规导航，无需动画干扰 |
| 基础功能 | search, settings, user, edit, delete, copy, save | 功能明确，静态即可 |
| 文件操作 | file, folder, download, upload (静态状态), print | 操作图标，非进行中状态 |
| 列表图标 | 大量重复使用的图标 | 性能考虑，避免卡顿 |

**判断标准**：
1. 不表示动态过程
2. 不需要吸引注意
3. 高频使用（性能优先）

## 🤖 Agent 决策流程

```
收到用户请求
    ↓
分析图标功能
    ↓
是否表示"进行中"状态？
    ↙ 是                    ↘ 否
生成动画图标          是否需要吸引注意？
(必须动画)               ↙ 是        ↘ 否
                  生成动画图标    生成静态图标
                  (建议动画)      (默认静态)
```

## 📊 实际案例

### 案例 1：用户说"生成 10 个图标"

**Agent 分析**：
- 10 个核心图标：menu, home, back, close, send, message, notification, user, settings, search
- 其中只有 `notification` 需要吸引注意

**决策结果**：
- ✅ 生成 9 个静态图标
- ✅ 生成 1 个动画图标（notification - 波浪扩散）

**向用户说明**：
```
✅ 已生成 10 个图标：
📄 静态图标 (9个)：menu, home, back, close, send, message, user, settings, search
🎬 动画图标 (1个)：notification（波浪扩散效果）

💡 智能决策：仅为 notification 添加动画，避免过度动画影响性能
```

### 案例 2：用户说"生成 loading 图标"

**Agent 分析**：
- loading 表示"正在加载"状态
- 必须使用动画，否则用户无法理解

**决策结果**：
- ✅ 自动生成旋转动画版本

**向用户说明**：
```
✅ 已生成 loading-animated.svg
🎬 动画效果：圆弧旋转动画（1.5秒循环）
💡 Loading 图标自动添加动画（表示加载状态必需）
```

### 案例 3：用户说"生成一个有动画效果的搜索图标"

**Agent 分析**：
- search 通常是静态图标
- 但用户明确要求动画

**决策结果**：
- ✅ 生成动画版本（扫描光线或轻微晃动）

**向用户说明**：
```
✅ 已生成 search-animated.svg
🎬 动画效果：扫描光线在镜片内移动（2秒循环）
💡 已按您要求为 search 添加动画效果
```

### 案例 4：用户说"生成菜单图标"

**Agent 分析**：
- menu 是常规导航图标
- 不需要动画

**决策结果**：
- ✅ 生成静态图标

**向用户说明**：
```
✅ 已生成 menu.svg（静态图标）
💡 Menu 为常规导航图标，使用静态版本更合适
   如需动画效果（如汉堡菜单变形），请说"生成动画版本"
```

## 🎯 性能考虑

### 单页面动画图标数量建议

| 页面类型 | 推荐动画数量 | 说明 |
|---------|-------------|------|
| 首页 | 1-2 个 | loading + 最多 1 个提示动画 |
| 列表页 | 0-1 个 | 避免重复动画 |
| 详情页 | 2-3 个 | 可适当增加交互反馈 |
| 通知中心 | 1-3 个 | notification 相关动画 |

### 动画性能优化原则

1. **优先使用 transform 和 opacity**（GPU 加速）
2. **避免改变 width/height**（触发重排）
3. **控制同时运行的动画数量**（≤ 5 个）
4. **添加 prefers-reduced-motion 支持**（可访问性）

## 🔄 动画类型速查

| 动画类型 | 适用场景 | 周期 | 示例 |
|---------|---------|------|------|
| 旋转 (rotate) | loading, sync, refresh | 1-2s | 圆弧/箭头旋转 |
| 脉动 (pulse) | notification, alert, new | 2-3s | 大小缩放 |
| 波浪 (wave) | notification, broadcast | 2-3s | 同心圆扩散 |
| 摇晃 (shake) | alert, bell | 3-4s | 左右摇摆 |
| 心跳 (heartbeat) | like, favorite | 2s | 节奏性缩放 |
| 闪烁 (blink) | new, highlight | 1-2s | 透明度变化 |

## 📚 相关文档

- **完整技术文档**：见 `SKILL.md` → "动画图标设计指南"
- **代码示例**：见 `SKILL.md` → "SVG 代码示例库"
- **快速参考**：见 `SVG-QUICK-REFERENCE.md` → "动画图标快速参考"
